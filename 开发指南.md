# 🚀 达达健康监测站 - 开发与发布指南

## 📋 前置准备

### 第一步：检查 Node.js 是否已安装

1. 打开 **终端**（Terminal）应用
   - 按 `Command + 空格键` 打开 Spotlight
   - 输入 "Terminal" 并回车

2. 在终端中输入以下命令检查 Node.js：
   ```bash
   node --version
   ```
   - ✅ 如果显示版本号（如 `v20.x.x`），说明已安装，继续下一步
   - ❌ 如果显示 "command not found"，需要先安装 Node.js

3. 如果没有安装 Node.js：
   - 访问 https://nodejs.org/
   - 下载 LTS 版本（推荐）
   - 安装后重启终端，再次检查版本

---

## 🛠️ 本地开发测试

### 第二步：进入项目文件夹

在终端中输入：
```bash
cd /Users/royshen/hydrateddog
```

### 第三步：安装项目依赖

在终端中输入：
```bash
npm install
```

**说明**：这个命令会下载项目所需的所有代码库（如 React、Next.js 等）
- ⏱️ 可能需要 1-3 分钟
- ✅ 完成后会显示类似 "added 500 packages" 的提示

### 第四步：启动开发服务器

在终端中输入：
```bash
npm run dev
```

**说明**：
- ⏱️ 等待几秒钟，会看到类似 "Ready on http://localhost:3000" 的提示
- ✅ 看到这个提示就说明服务器启动成功了

### 第五步：在浏览器中打开网站

1. 打开浏览器（Safari、Chrome、Firefox 都可以）
2. 在地址栏输入：`http://localhost:3000`
3. 按回车键

**你应该能看到**：
- 📊 今日指标看板（总饮水量、总尿量、净摄入）
- ➕ 两个大按钮（添加饮水记录、添加称重记录）
- 📝 记录列表（如果有记录的话）

### 第六步：测试功能

1. **测试饮水记录**：
   - 点击 "添加饮水记录" 按钮
   - 输入一个数字（如 `100`）
   - 点击 "确认"
   - 看总饮水量是否增加

2. **测试称重记录**：
   - 点击 "添加称重记录" 按钮
   - 输入出门前体重（如 `10.5`）
   - 输入回来后体重（如 `10.3`）
   - 点击 "确认"
   - 看总尿量是否增加（应该是 200ml = (10.5 - 10.3) × 1000）

3. **测试删除功能**：
   - 在记录列表中找到删除按钮（垃圾桶图标）
   - 点击删除，确认删除
   - 看记录是否消失

### 第七步：停止开发服务器

在终端中按 `Control + C`（Mac 上就是 Ctrl + C）
- 这会停止开发服务器
- 网站将无法访问（这是正常的）

---

## 🌐 发布到互联网

### 方案一：使用 Vercel（推荐，最简单）

**Vercel 是 Next.js 的官方推荐平台，免费且简单**

#### 步骤 1：注册 Vercel 账号
1. 访问 https://vercel.com/
2. 点击 "Sign Up"
3. 使用 GitHub 账号登录（如果没有 GitHub，先注册一个）

#### 步骤 2：安装 Vercel CLI（可选，也可以直接用网页）
在终端中输入：
```bash
npm install -g vercel
```

#### 步骤 3：登录 Vercel
在终端中输入：
```bash
vercel login
```
- 会打开浏览器，确认登录即可

#### 步骤 4：部署项目
在项目文件夹中（`/Users/royshen/hydrateddog`）输入：
```bash
vercel
```

**按照提示操作**：
1. 是否要部署？输入 `Y`
2. 是否要链接到现有项目？输入 `N`（第一次部署）
3. 项目名称：直接回车（使用默认名称）
4. 目录：直接回车（使用当前目录）
5. 等待部署完成...

#### 步骤 5：访问你的网站
- 部署完成后，Vercel 会给你一个网址，类似：`https://your-project-name.vercel.app`
- 复制这个网址，在浏览器中打开
- 🎉 你的网站就上线了！

**后续更新**：
- 修改代码后，再次运行 `vercel` 即可更新网站
- 或者连接 GitHub，每次推送代码自动部署

---

### 方案二：使用 Netlify

1. 访问 https://www.netlify.com/
2. 注册账号（可以用 GitHub 登录）
3. 点击 "Add new site" → "Import an existing project"
4. 选择 "Deploy manually"
5. 先构建项目：
   ```bash
   npm run build
   ```
6. 将 `.next` 文件夹拖到 Netlify 的部署区域
7. 完成！

---

### 方案三：使用 GitHub Pages（需要额外配置）

1. 在 GitHub 创建新仓库
2. 将代码推送到 GitHub：
   ```bash
   git init
   git add .
   git commit -m "Initial commit"
   git remote add origin <你的GitHub仓库地址>
   git push -u origin main
   ```
3. 在 GitHub 仓库设置中启用 GitHub Pages
4. 选择构建分支和文件夹

---

## 📝 常用命令总结

| 命令 | 说明 |
|------|------|
| `npm install` | 安装项目依赖（第一次或更新依赖后） |
| `npm run dev` | 启动开发服务器（本地测试） |
| `npm run build` | 构建生产版本（发布前） |
| `npm start` | 运行生产版本（本地测试生产环境） |
| `npm run lint` | 检查代码错误 |

---

## ❓ 常见问题

### Q: 端口 3000 被占用怎么办？
**A**: 修改端口号：
```bash
npm run dev -- -p 3001
```
然后在浏览器访问 `http://localhost:3001`

### Q: 修改代码后页面没变化？
**A**: Next.js 会自动刷新，如果没有：
- 检查终端是否有错误信息
- 尝试刷新浏览器（Command + R）
- 重启开发服务器（Control + C 然后重新运行 `npm run dev`）

### Q: 如何查看代码错误？
**A**: 
- 浏览器控制台：按 `F12` 或右键 → "检查" → "Console"
- 终端窗口：查看红色错误信息

### Q: 数据会丢失吗？
**A**: 目前数据存储在浏览器的 LocalStorage 中：
- ✅ 同一台电脑、同一个浏览器，数据会保留
- ❌ 清除浏览器数据会丢失
- 💡 后续可以升级为云端数据库

---

## 🎯 下一步建议

1. ✅ 完成本地测试
2. ✅ 发布到 Vercel
3. 📊 添加趋势图表页面
4. 📅 添加历史记录页面
5. 💾 升级为云端数据库（Firebase、Supabase 等）

---

**祝你开发顺利！有问题随时问我！** 🚀
